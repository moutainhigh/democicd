<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.uwallet.pay.main.dao.GatewayDAO">

    <resultMap id="gatewayMap" type="com.uwallet.pay.main.model.entity.Gateway">
        <id property="id" jdbcType="BIGINT" column="id"/>
        <result property="channelMerchantId" jdbcType="VARCHAR" column="channel_merchant_id"/>
        <result property="channelName" jdbcType="VARCHAR" column="channel_name"/>
        <result property="type" jdbcType="BIGINT" column="type"/>
        <result property="gatewayType" jdbcType="TINYINT" column="gateway_type"/>
        <result property="rateType" jdbcType="TINYINT" column="rate_type"/>
        <result property="singleMaxAmount" jdbcType="DECIMAL" column="single_max_amount"/>
        <result property="singleMinAmount" jdbcType="DECIMAL" column="single_min_amount"/>
        <result property="dailyTotalAmount" jdbcType="DECIMAL" column="daily_total_amount"/>
        <result property="rate" jdbcType="DECIMAL" column="rate"/>
        <result property="rateMax" jdbcType="DOUBLE" column="rate_max"/>
        <result property="rateMin" jdbcType="DOUBLE" column="rate_min"/>
        <result property="settlementModes" jdbcType="TINYINT" column="settlement_modes"/>
        <result property="workType" jdbcType="TINYINT" column="work_type"/>
        <result property="startTime" jdbcType="VARCHAR" column="start_time"/>
        <result property="endTime" jdbcType="VARCHAR" column="end_time"/>
        <result property="feeSettlementModes" jdbcType="TINYINT" column="fee_settlement_modes"/>
        <result property="configurationItem" jdbcType="VARCHAR" column="configuration_item"/>
        <result property="certificatePath" jdbcType="VARCHAR" column="certificate_path"/>
        <result property="certificatePassword" jdbcType="VARCHAR" column="certificate_password"/>
        <result property="state" jdbcType="TINYINT" column="state"/>
        <result property="remark" jdbcType="VARCHAR" column="remark"/>
        <result property="createdBy" jdbcType="BIGINT" column="created_by"/>
        <result property="createdDate" jdbcType="BIGINT" column="created_date"/>
        <result property="modifiedBy" jdbcType="BIGINT" column="modified_by"/>
        <result property="modifiedDate" jdbcType="BIGINT" column="modified_date"/>
        <result property="status" jdbcType="TINYINT" column="status"/>
        <result property="ip" jdbcType="VARCHAR" column="ip"/>
        <result property="userName" jdbcType="VARCHAR" column="user_name"/>
        <result property="password" jdbcType="VARCHAR" column="password"/>
    </resultMap>

    <resultMap id="gatewayDTOMap" type="com.uwallet.pay.main.model.dto.GatewayDTO">
        <id property="id" jdbcType="BIGINT" column="id"/>
        <result property="channelMerchantId" jdbcType="VARCHAR" column="channel_merchant_id"/>
        <result property="channelName" jdbcType="VARCHAR" column="channel_name"/>
        <result property="type" jdbcType="BIGINT" column="type"/>
        <result property="typeName" jdbcType="VARCHAR" column="type_name"/>
        <result property="gatewayType" jdbcType="TINYINT" column="gateway_type"/>
        <result property="rateType" jdbcType="TINYINT" column="rate_type"/>
        <result property="singleMaxAmount" jdbcType="DECIMAL" column="single_max_amount"/>
        <result property="singleMinAmount" jdbcType="DECIMAL" column="single_min_amount"/>
        <result property="dailyTotalAmount" jdbcType="DECIMAL" column="daily_total_amount"/>
        <result property="rate" jdbcType="DECIMAL" column="rate"/>
        <result property="rateMax" jdbcType="DOUBLE" column="rate_max"/>
        <result property="rateMin" jdbcType="DOUBLE" column="rate_min"/>
        <result property="settlementModes" jdbcType="TINYINT" column="settlement_modes"/>
        <result property="workType" jdbcType="TINYINT" column="work_type"/>
        <result property="startTime" jdbcType="VARCHAR" column="start_time"/>
        <result property="endTime" jdbcType="VARCHAR" column="end_time"/>
        <result property="feeSettlementModes" jdbcType="TINYINT" column="fee_settlement_modes"/>
        <result property="configurationItem" jdbcType="VARCHAR" column="configuration_item"/>
        <result property="certificatePath" jdbcType="VARCHAR" column="certificate_path"/>
        <result property="certificatePassword" jdbcType="VARCHAR" column="certificate_password"/>
        <result property="state" jdbcType="TINYINT" column="state"/>
        <result property="remark" jdbcType="VARCHAR" column="remark"/>
        <result property="createdBy" jdbcType="BIGINT" column="created_by"/>
        <result property="createdDate" jdbcType="BIGINT" column="created_date"/>
        <result property="modifiedBy" jdbcType="BIGINT" column="modified_by"/>
        <result property="modifiedDate" jdbcType="BIGINT" column="modified_date"/>
        <result property="status" jdbcType="TINYINT" column="status"/>
        <result property="ip" jdbcType="VARCHAR" column="ip"/>
        <result property="userName" jdbcType="VARCHAR" column="user_name"/>
        <result property="password" jdbcType="VARCHAR" column="password"/>
        <result property="gatewayIp" jdbcType="VARCHAR" column="gateway_ip"/>
        <result property="gatewayIp" jdbcType="VARCHAR" column="gateway_ip"/>
        <result property="rownum" jdbcType="TINYINT" column="rownum"/>
    </resultMap>

    <insert id="insert" parameterType="com.uwallet.pay.main.model.entity.Gateway">
        INSERT INTO u_gateway (
        <if test="id != null">
            `id`
        </if>
        <if test="channelMerchantId != null">
            ,`channel_merchant_id`
        </if>
        <if test="channelName != null">
            ,`channel_name`
        </if>
        <if test="type != null">
            ,`type`
        </if>
        <if test="userName != null">
            ,`user_name`
        </if>
        <if test="password != null">
            ,`password`
        </if>
        <if test="gatewayIp != null">
            ,`gateway_ip`
        </if>
        <if test="gatewayType != null">
            ,`gateway_type`
        </if>
        <if test="rateType != null">
            ,`rate_type`
        </if>
        <if test="singleMaxAmount != null">
            ,`single_max_amount`
        </if>
        <if test="singleMinAmount != null">
            ,`single_min_amount`
        </if>
        <if test="dailyTotalAmount != null">
            ,`daily_total_amount`
        </if>
        <if test="rate != null">
            ,`rate`
        </if>
        <if test="rateMax != null">
            ,`rate_max`
        </if>
        <if test="rateMin != null">
            ,`rate_min`
        </if>
        <if test="settlementModes != null">
            ,`settlement_modes`
        </if>
        <if test="workType != null">
            ,`work_type`
        </if>
        <if test="startTime != null">
            ,`start_time`
        </if>
        <if test="endTime != null">
            ,`end_time`
        </if>
        <if test="feeSettlementModes != null">
            ,`fee_settlement_modes`
        </if>
        <if test="configurationItem != null">
            ,`configuration_item`
        </if>
        <if test="certificatePath != null">
            ,`certificate_path`
        </if>
        <if test="certificatePassword != null">
            ,`certificate_password`
        </if>
        <if test="state != null">
            ,`state`
        </if>
        <if test="remark != null">
            ,`remark`
        </if>
        <if test="createdBy != null">
            ,`created_by`
        </if>
        <if test="createdDate != null">
            ,`created_date`
        </if>
        <if test="modifiedBy != null">
            ,`modified_by`
        </if>
        <if test="modifiedDate != null">
            ,`modified_date`
        </if>
        <if test="status != null">
            ,`status`
        </if>
        <if test="ip != null">
            ,`ip`
        </if>
        ) VALUES (
        <if test="id != null">
            #{id}
        </if>
        <if test="channelMerchantId != null">
            ,#{channelMerchantId}
        </if>
        <if test="channelName != null">
            ,#{channelName}
        </if>
        <if test="type != null">
            ,#{type}
        </if>
        <if test="userName != null">
            ,#{userName}
        </if>
        <if test="password != null">
            ,#{password}
        </if>
        <if test="gatewayIp != null">
            ,#{gatewayIp}
        </if>
        <if test="gatewayType != null">
            ,#{gatewayType}
        </if>
        <if test="rateType != null">
            ,#{rateType}
        </if>
        <if test="singleMaxAmount != null">
            ,#{singleMaxAmount}
        </if>
        <if test="singleMinAmount != null">
            ,#{singleMinAmount}
        </if>
        <if test="dailyTotalAmount != null">
            ,#{dailyTotalAmount}
        </if>
        <if test="rate != null">
            ,#{rate}
        </if>
        <if test="rateMax != null">
            ,#{rateMax}
        </if>
        <if test="rateMin != null">
            ,#{rateMin}
        </if>
        <if test="settlementModes != null">
            ,#{settlementModes}
        </if>
        <if test="workType != null">
            ,#{workType}
        </if>
        <if test="startTime != null">
            ,#{startTime}
        </if>
        <if test="endTime != null">
            ,#{endTime}
        </if>
        <if test="feeSettlementModes != null">
            ,#{feeSettlementModes}
        </if>
        <if test="configurationItem != null">
            ,#{configurationItem}
        </if>
        <if test="certificatePath != null">
            ,#{certificatePath}
        </if>
        <if test="certificatePassword != null">
            ,#{certificatePassword}
        </if>
        <if test="state != null">
            ,#{state}
        </if>
        <if test="remark != null">
            ,#{remark}
        </if>
        <if test="createdBy != null">
            ,#{createdBy}
        </if>
        <if test="createdDate != null">
            ,#{createdDate}
        </if>
        <if test="modifiedBy != null">
            ,#{modifiedBy}
        </if>
        <if test="modifiedDate != null">
            ,#{modifiedDate}
        </if>
        <if test="status != null">
            ,#{status}
        </if>
        <if test="ip != null">
            ,#{ip}
        </if>
        )
    </insert>

    <insert id="insertList" parameterType="List">
        INSERT INTO u_gateway (
        `id`,
        `channel_merchant_id`,
        `channel_name`,
        `type`,
        `user_name`,
        `password`,
        `gateway_ip`,
        `gateway_type`,
        `rate_type`,
        `single_max_amount`,
        `single_min_amount`,
        `daily_total_amount`,
        `rate`,
        `rate_max`,
        `rate_min`,
        `settlement_modes`,
        `work_type`,
        `start_time`,
        `end_time`,
        `fee_settlement_modes`,
        `configuration_item`,
        `certificate_path`,
        `certificate_password`,
        `state`,
        `remark`,
        `created_by`,
        `created_date`,
        `modified_by`,
        `modified_date`,
        `status`,
        `ip`
        ) VALUES
        <foreach collection="list" item="data" separator=",">
            (
            #{data.id},
            #{data.channelMerchantId},
            #{data.channelName},
            #{data.type},
            #{data.userName},
            #{data.password},
            #{data.gatewayIp},
            #{data.gatewayType},
            #{data.rateType},
            #{data.singleMaxAmount},
            #{data.singleMinAmount},
            #{data.dailyTotalAmount},
            #{data.rate},
            #{data.rateMax},
            #{data.rateMin},
            #{data.settlementModes},
            #{data.workType},
            #{data.startTime},
            #{data.endTime},
            #{data.feeSettlementModes},
            #{data.configurationItem},
            #{data.certificatePath},
            #{data.certificatePassword},
            #{data.state},
            #{data.remark},
            #{data.createdBy},
            #{data.createdDate},
            #{data.modifiedBy},
            #{data.modifiedDate},
            #{data.status},
            #{data.ip}
            )
        </foreach>
    </insert>

    <update id="update" parameterType="com.uwallet.pay.main.model.entity.Gateway">
        UPDATE u_gateway
        <set>
            <if test="id != null">
                `id`=#{id},
            </if>
            <if test="channelMerchantId != null">
                `channel_merchant_id`=#{channelMerchantId},
            </if>
            <if test="channelName != null">
                `channel_name`=#{channelName},
            </if>
            <if test="type != null">
                `type`=#{type},
            </if>
            <if test="userName != null">
                `user_name`=#{userName},
            </if>
            <if test="password != null">
                `password`=#{password},
            </if>
            <if test="gatewayIp != null">
                `gateway_ip`=#{gatewayIp},
            </if>
            <if test="gatewayType != null">
                `gateway_type`=#{gatewayType},
            </if>
            <if test="rateType != null">
                `rate_type`=#{rateType},
            </if>
            <if test="singleMaxAmount != null">
                `single_max_amount`=#{singleMaxAmount},
            </if>
            <if test="singleMinAmount != null">
                `single_min_amount`=#{singleMinAmount},
            </if>
            <if test="dailyTotalAmount != null">
                `daily_total_amount`=#{dailyTotalAmount},
            </if>
            <if test="rate != null">
                `rate`=#{rate},
            </if>
            <if test="rateMax != null">
                `rate_max`=#{rateMax},
            </if>
            <if test="rateMin != null">
                `rate_min`=#{rateMin},
            </if>
            <if test="settlementModes != null">
                `settlement_modes`=#{settlementModes},
            </if>
            <if test="workType != null">
                `work_type`=#{workType},
            </if>
            <if test="startTime != null">
                `start_time`=#{startTime},
            </if>
            <if test="endTime != null">
                `end_time`=#{endTime},
            </if>
            <if test="feeSettlementModes != null">
                `fee_settlement_modes`=#{feeSettlementModes},
            </if>
            <if test="configurationItem != null">
                `configuration_item`=#{configurationItem},
            </if>
            <if test="certificatePath != null">
                `certificate_path`=#{certificatePath},
            </if>
            <if test="certificatePassword != null">
                `certificate_password`=#{certificatePassword},
            </if>
            <if test="state != null">
                `state`=#{state},
            </if>
            <if test="remark != null">
                `remark`=#{remark},
            </if>
            <if test="createdBy != null">
                `created_by`=#{createdBy},
            </if>
            <if test="createdDate != null">
                `created_date`=#{createdDate},
            </if>
            <if test="modifiedBy != null">
                `modified_by`=#{modifiedBy},
            </if>
            <if test="modifiedDate != null">
                `modified_date`=#{modifiedDate},
            </if>
            <if test="status != null">
                `status`=#{status},
            </if>
            <if test="ip != null">
                `ip`=#{ip},
            </if>
        </set>
        <trim prefix="WHERE" prefixOverrides="AND|OR">
            <choose>
                <when test="status != null ">AND status = #{status.value}</when>
                <otherwise><![CDATA[AND status > 0]]></otherwise>
            </choose>
            AND id = #{id}
        </trim>
    </update>

    <update id="delete" parameterType="Map">
      UPDATE u_gateway
      SET `status`=0,`modified_by`=#{modifiedBy},`modified_date`=#{modifiedDate}
      WHERE id = #{id}
  </update>

    <delete id="pdelete" parameterType="Map">
      DELETE FROM u_gateway
      WHERE id = #{id}
  </delete>

    <select id="count" parameterType="Map" resultType="Integer">
        <![CDATA[
            SELECT COUNT(DISTINCT id) FROM u_gateway
        ]]>
        <trim prefix="WHERE" prefixOverrides="AND|OR">
            <if test="id != null">
                AND `id`=#{id}
            </if>
            <if test="channelMerchantId != null">
                AND `channel_merchant_id`=#{channelMerchantId}
            </if>
            <if test="channelName != null">
                AND `channel_name`=#{channelName}
            </if>
            <if test="type != null">
                AND `type`=#{type}
            </if>
            <if test="userName != null">
                AND `user_name`=#{userName}
            </if>
            <if test="password != null">
                AND `password`=#{password}
            </if>
            <if test="gatewayIp != null">
                AND `gateway_ip`=#{gatewayIp}
            </if>
            <if test="gatewayType != null">
                AND `gateway_type`=#{gatewayType}
            </if>
            <if test="rateType != null">
                AND `rate_type`=#{rateType}
            </if>
            <if test="singleMaxAmount != null">
                AND `single_max_amount`=#{singleMaxAmount}
            </if>
            <if test="singleMinAmount != null">
                AND `single_min_amount`=#{singleMinAmount}
            </if>
            <if test="dailyTotalAmount != null">
                AND `daily_total_amount`=#{dailyTotalAmount}
            </if>
            <if test="rate != null">
                AND `rate`=#{rate}
            </if>
            <if test="rateMax != null">
                AND `rate_max`=#{rateMax}
            </if>
            <if test="rateMin != null">
                AND `rate_min`=#{rateMin}
            </if>
            <if test="settlementModes != null">
                AND `settlement_modes`=#{settlementModes}
            </if>
            <if test="workType != null">
                AND `work_type`=#{workType}
            </if>
            <if test="startTime != null">
                AND `start_time`=#{startTime}
            </if>
            <if test="endTime != null">
                AND `end_time`=#{endTime}
            </if>
            <if test="feeSettlementModes != null">
                AND `fee_settlement_modes`=#{feeSettlementModes}
            </if>
            <if test="configurationItem != null">
                AND `configuration_item`=#{configurationItem}
            </if>
            <if test="certificatePath != null">
                AND `certificate_path`=#{certificatePath}
            </if>
            <if test="certificatePassword != null">
                AND `certificate_password`=#{certificatePassword}
            </if>
            <if test="state != null">
                AND `state`=#{state}
            </if>
            <if test="remark != null">
                AND `remark`=#{remark}
            </if>
            <if test="createdBy != null">
                AND `created_by`=#{createdBy}
            </if>
            <if test="start != null and end != null">
                AND `created_date` BETWEEN #{start} AND #{ end}
            </if>
            <if test="modifiedBy != null">
                AND `modified_by`=#{modifiedBy}
            </if>
            <if test="modifiedDate != null">
                AND `modified_date`=#{modifiedDate}
            </if>
            <choose>
                <when test="status != null">And status = #{status}</when>
                <otherwise><![CDATA[And status > 0]]></otherwise>
            </choose>
            <if test="ip != null">
                AND `ip`=#{ip}
            </if>
        </trim>
    </select>

    <select id="selectOne" parameterType="Map" resultMap="gatewayMap">
        <![CDATA[
            SELECT * FROM u_gateway
        ]]>
        <trim prefix="WHERE" prefixOverrides="AND|OR">
            <if test="id != null">
                AND `id`=#{id}
            </if>
            <if test="channelMerchantId != null">
                AND `channel_merchant_id`=#{channelMerchantId}
            </if>
            <if test="channelName != null">
                AND `channel_name`=#{channelName}
            </if>
            <if test="type != null">
                AND `type`=#{type}
            </if>
            <if test="userName != null">
                AND `user_name`=#{userName}
            </if>
            <if test="password != null">
                AND `password`=#{password}
            </if>
            <if test="gatewayIp != null">
                AND `gateway_ip`=#{gatewayIp}
            </if>
            <if test="gatewayType != null">
                AND `gateway_type`=#{gatewayType}
            </if>
            <if test="rateType != null">
                AND `rate_type`=#{rateType}
            </if>
            <if test="singleMaxAmount != null">
                AND `single_max_amount`=#{singleMaxAmount}
            </if>
            <if test="singleMinAmount != null">
                AND `single_min_amount`=#{singleMinAmount}
            </if>
            <if test="dailyTotalAmount != null">
                AND `daily_total_amount`=#{dailyTotalAmount}
            </if>
            <if test="rate != null">
                AND `rate`=#{rate}
            </if>
            <if test="rateMax != null">
                AND `rate_max`=#{rateMax}
            </if>
            <if test="rateMin != null">
                AND `rate_min`=#{rateMin}
            </if>
            <if test="settlementModes != null">
                AND `settlement_modes`=#{settlementModes}
            </if>
            <if test="workType != null">
                AND `work_type`=#{workType}
            </if>
            <if test="startTime != null">
                AND `start_time`=#{startTime}
            </if>
            <if test="endTime != null">
                AND `end_time`=#{endTime}
            </if>
            <if test="feeSettlementModes != null">
                AND `fee_settlement_modes`=#{feeSettlementModes}
            </if>
            <if test="configurationItem != null">
                AND `configuration_item`=#{configurationItem}
            </if>
            <if test="certificatePath != null">
                AND `certificate_path`=#{certificatePath}
            </if>
            <if test="certificatePassword != null">
                AND `certificate_password`=#{certificatePassword}
            </if>
            <if test="state != null">
                AND `state`=#{state}
            </if>
            <if test="remark != null">
                AND `remark`=#{remark}
            </if>
            <if test="createdBy != null">
                AND `created_by`=#{createdBy}
            </if>
            <if test="start != null and end != null">
                AND `created_date` BETWEEN #{start} AND #{ end}
            </if>
            <if test="modifiedBy != null">
                AND `modified_by`=#{modifiedBy}
            </if>
            <if test="modifiedDate != null">
                AND `modified_date`=#{modifiedDate}
            </if>
            <choose>
                <when test="status != null">AND status = #{status}</when>
                <otherwise><![CDATA[AND status > 0]]></otherwise>
            </choose>
            <if test="ip != null">
                AND `ip`=#{ip}
            </if>
        </trim>
        LIMIT 1
    </select>

    <select id="selectOneDTO" parameterType="Map" resultMap="gatewayDTOMap">
        <![CDATA[
            SELECT gateway.*, channel.channel_name type_name FROM u_gateway gateway
            LEFT JOIN u_payment_channel channel ON gateway.type = channel.id
        ]]>
        <trim prefix="WHERE" prefixOverrides="AND|OR">
            <if test="id != null">
                AND gateway.`id`=#{id}
            </if>
            <if test="channelMerchantId != null">
                AND gateway.`channel_merchant_id`=#{channelMerchantId}
            </if>
            <if test="channelName != null">
                AND gateway.`channel_name`=#{channelName}
            </if>
            <if test="type != null">
                AND gateway.`type`=#{type}
            </if>
            <if test="userName != null">
                AND gateway.`user_name`=#{userName}
            </if>
            <if test="password != null">
                AND gateway.`password`=#{password}
            </if>
            <if test="gatewayIp != null">
                AND gateway.`gateway_ip`=#{gatewayIp}
            </if>
            <if test="gatewayType != null">
                AND gateway.`gateway_type`=#{gatewayType}
            </if>
            <if test="rateType != null">
                AND gateway.`rate_type`=#{rateType}
            </if>
            <if test="singleMaxAmount != null">
                AND gateway.`single_max_amount`=#{singleMaxAmount}
            </if>
            <if test="singleMinAmount != null">
                AND gateway.`single_min_amount`=#{singleMinAmount}
            </if>
            <if test="dailyTotalAmount != null">
                AND gateway.`daily_total_amount`=#{dailyTotalAmount}
            </if>
            <if test="rate != null">
                AND gateway.`rate`=#{rate}
            </if>
            <if test="rateMax != null">
                AND gateway.`rate_max`=#{rateMax}
            </if>
            <if test="rateMin != null">
                AND gateway.`rate_min`=#{rateMin}
            </if>
            <if test="settlementModes != null">
                AND gateway.`settlement_modes`=#{settlementModes}
            </if>
            <if test="workType != null">
                AND gateway.`work_type`=#{workType}
            </if>
            <if test="startTime != null">
                AND gateway.`start_time`=#{startTime}
            </if>
            <if test="endTime != null">
                AND gateway.`end_time`=#{endTime}
            </if>
            <if test="feeSettlementModes != null">
                AND gateway.`fee_settlement_modes`=#{feeSettlementModes}
            </if>
            <if test="configurationItem != null">
                AND gateway.`configuration_item`=#{configurationItem}
            </if>
            <if test="certificatePath != null">
                AND gateway.`certificate_path`=#{certificatePath}
            </if>
            <if test="certificatePassword != null">
                AND gateway.`certificate_password`=#{certificatePassword}
            </if>
            <if test="state != null">
                AND gateway.`state`=#{state}
            </if>
            <if test="remark != null">
                AND gateway.`remark`=#{remark}
            </if>
            <if test="createdBy != null">
                AND gateway.`created_by`=#{createdBy}
            </if>
            <if test="start != null and end != null">
                AND gateway.`created_date` BETWEEN #{start} AND #{ end}
            </if>
            <if test="modifiedBy != null">
                AND gateway.`modified_by`=#{modifiedBy}
            </if>
            <if test="modifiedDate != null">
                AND gateway.`modified_date`=#{modifiedDate}
            </if>
            <choose>
                <when test="status != null">AND gateway.status = #{status}</when>
                <otherwise><![CDATA[AND gateway.status > 0]]></otherwise>
            </choose>
            <if test="ip != null">
                AND gateway.`ip`=#{ip}
            </if>
        </trim>
        LIMIT 1
    </select>

    <select id="select" parameterType="Map" resultMap="gatewayMap">
        <![CDATA[
            SELECT * FROM u_gateway
        ]]>
        <trim prefix="WHERE" prefixOverrides="AND|OR">
            <if test="id != null">
                AND `id`=#{id}
            </if>
            <if test="channelMerchantId != null">
                AND `channel_merchant_id`=#{channelMerchantId}
            </if>
            <if test="channelName != null">
                AND `channel_name`=#{channelName}
            </if>
            <if test="type != null">
                AND `type`=#{type}
            </if>
            <if test="userName != null">
                AND `user_name`=#{userName}
            </if>
            <if test="password != null">
                AND `password`=#{password}
            </if>
            <if test="gatewayIp != null">
                AND `gateway_ip`=#{gatewayIp}
            </if>
            <if test="gatewayType != null">
                AND `gateway_type`=#{gatewayType}
            </if>
            <if test="rateType != null">
                AND `rate_type`=#{rateType}
            </if>
            <if test="singleMaxAmount != null">
                AND `single_max_amount`=#{singleMaxAmount}
            </if>
            <if test="singleMinAmount != null">
                AND `single_min_amount`=#{singleMinAmount}
            </if>
            <if test="dailyTotalAmount != null">
                AND `daily_total_amount`=#{dailyTotalAmount}
            </if>
            <if test="rate != null">
                AND `rate`=#{rate}
            </if>
            <if test="rateMax != null">
                AND `rate_max`=#{rateMax}
            </if>
            <if test="rateMin != null">
                AND `rate_min`=#{rateMin}
            </if>
            <if test="settlementModes != null">
                AND `settlement_modes`=#{settlementModes}
            </if>
            <if test="workType != null">
                AND `work_type`=#{workType}
            </if>
            <if test="startTime != null">
                AND `start_time`=#{startTime}
            </if>
            <if test="endTime != null">
                AND `end_time`=#{endTime}
            </if>
            <if test="feeSettlementModes != null">
                AND `fee_settlement_modes`=#{feeSettlementModes}
            </if>
            <if test="configurationItem != null">
                AND `configuration_item`=#{configurationItem}
            </if>
            <if test="certificatePath != null">
                AND `certificate_path`=#{certificatePath}
            </if>
            <if test="certificatePassword != null">
                AND `certificate_password`=#{certificatePassword}
            </if>
            <if test="state != null">
                AND `state`=#{state}
            </if>
            <if test="remark != null">
                AND `remark`=#{remark}
            </if>
            <if test="createdBy != null">
                AND `created_by`=#{createdBy}
            </if>
            <if test="start != null and end != null">
                AND `created_date` BETWEEN #{start} AND #{ end}
            </if>
            <if test="modifiedBy != null">
                AND `modified_by`=#{modifiedBy}
            </if>
            <if test="modifiedDate != null">
                AND `modified_date`=#{modifiedDate}
            </if>
            <choose>
                <when test="status != null">AND status = #{status}</when>
                <otherwise><![CDATA[AND status > 0]]></otherwise>
            </choose>
            <if test="ip != null">
                AND `ip`=#{ip}
            </if>
        </trim>
        <if test="scs != null and scs.size() > 0">
            ORDER BY
            <foreach collection="scs" item="sc" separator=",">
                ${sc.field} ${sc.order}
            </foreach>
        </if>
        <if test="pc != null">
            LIMIT ${pc.startIndex}, ${pc.pageSize}
        </if>
    </select>

    <select id="selectDTO" parameterType="Map" resultMap="gatewayDTOMap">
        <![CDATA[
            SELECT gateway.*, channel.channel_name type_name FROM u_gateway gateway
            LEFT JOIN u_payment_channel channel ON gateway.type = channel.id
        ]]>
        <trim prefix="WHERE" prefixOverrides="AND|OR">
            <if test="id != null">
                AND gateway.`id`=#{id}
            </if>
            <if test="channelMerchantId != null">
                AND gateway.`channel_merchant_id`=#{channelMerchantId}
            </if>
            <if test="channelName != null">
                AND gateway.`channel_name`=#{channelName}
            </if>
            <if test="type != null">
                AND gateway.`type`=#{type}
            </if>
            <if test="userName != null">
                AND gateway.`user_name`=#{userName}
            </if>
            <if test="password != null">
                AND gateway.`password`=#{password}
            </if>
            <if test="gatewayIp != null">
                AND gateway.`gateway_ip`=#{gatewayIp}
            </if>
            <if test="gatewayType != null">
                AND gateway.`gateway_type`=#{gatewayType}
            </if>
            <if test="rateType != null">
                AND gateway.`rate_type`=#{rateType}
            </if>
            <if test="singleMaxAmount != null">
                AND gateway.`single_max_amount`=#{singleMaxAmount}
            </if>
            <if test="singleMinAmount != null">
                AND gateway.`single_min_amount`=#{singleMinAmount}
            </if>
            <if test="dailyTotalAmount != null">
                AND gateway.`daily_total_amount`=#{dailyTotalAmount}
            </if>
            <if test="rate != null">
                AND gateway.`rate`=#{rate}
            </if>
            <if test="rateMax != null">
                AND gateway.`rate_max`=#{rateMax}
            </if>
            <if test="rateMin != null">
                AND gateway.`rate_min`=#{rateMin}
            </if>
            <if test="settlementModes != null">
                AND gateway.`settlement_modes`=#{settlementModes}
            </if>
            <if test="workType != null">
                AND gateway.`work_type`=#{workType}
            </if>
            <if test="startTime != null">
                AND gateway.`start_time`=#{startTime}
            </if>
            <if test="endTime != null">
                AND gateway.`end_time`=#{endTime}
            </if>
            <if test="feeSettlementModes != null">
                AND gateway.`fee_settlement_modes`=#{feeSettlementModes}
            </if>
            <if test="configurationItem != null">
                AND gateway.`configuration_item`=#{configurationItem}
            </if>
            <if test="certificatePath != null">
                AND gateway.`certificate_path`=#{certificatePath}
            </if>
            <if test="certificatePassword != null">
                AND gateway.`certificate_password`=#{certificatePassword}
            </if>
            <if test="state != null">
                AND gateway.`state`=#{state}
            </if>
            <if test="remark != null">
                AND gateway.`remark`=#{remark}
            </if>
            <if test="createdBy != null">
                AND gateway.`created_by`=#{createdBy}
            </if>
            <if test="start != null and end != null">
                AND gateway.`created_date` BETWEEN #{start} AND #{ end}
            </if>
            <if test="modifiedBy != null">
                AND gateway.`modified_by`=#{modifiedBy}
            </if>
            <if test="modifiedDate != null">
                AND gateway.`modified_date`=#{modifiedDate}
            </if>
            <choose>
                <when test="status != null">AND gateway.status = #{status}</when>
                <otherwise><![CDATA[AND gateway.status > 0]]></otherwise>
            </choose>
            <if test="ip != null">
                AND gateway.`ip`=#{ip}
            </if>
        </trim>
        <if test="scs != null and scs.size() > 0">
            ORDER BY
            <foreach collection="scs" item="sc" separator=",">
                ${sc.field} ${sc.order}
            </foreach>
        </if>
        <if test="pc != null">
            LIMIT ${pc.startIndex}, ${pc.pageSize}
        </if>
    </select>

    <select id="selectMap" parameterType="Map" resultType="Map">
        SELECT
        <foreach collection="columns" item="cname" separator="," open="`" close="`">
            ${cname}
        </foreach>
        FROM u_gateway
        <trim prefix="WHERE" prefixOverrides="AND|OR">
            <if test="id != null">
                AND `id`=#{id}
            </if>
            <if test="channelMerchantId != null">
                AND `channel_merchant_id`=#{channelMerchantId}
            </if>
            <if test="channelName != null">
                AND `channel_name`=#{channelName}
            </if>
            <if test="type != null">
                AND `type`=#{type}
            </if>
            <if test="userName != null">
                AND `user_name`=#{userName}
            </if>
            <if test="password != null">
                AND `password`=#{password}
            </if>
            <if test="gatewayIp != null">
                AND `gateway_ip`=#{gatewayIp}
            </if>
            <if test="gatewayType != null">
                AND `gateway_type`=#{gatewayType}
            </if>
            <if test="rateType != null">
                AND `rate_type`=#{rateType}
            </if>
            <if test="singleMaxAmount != null">
                AND `single_max_amount`=#{singleMaxAmount}
            </if>
            <if test="singleMinAmount != null">
                AND `single_min_amount`=#{singleMinAmount}
            </if>
            <if test="dailyTotalAmount != null">
                AND `daily_total_amount`=#{dailyTotalAmount}
            </if>
            <if test="rate != null">
                AND `rate`=#{rate}
            </if>
            <if test="rateMax != null">
                AND `rate_max`=#{rateMax}
            </if>
            <if test="rateMin != null">
                AND `rate_min`=#{rateMin}
            </if>
            <if test="settlementModes != null">
                AND `settlement_modes`=#{settlementModes}
            </if>
            <if test="workType != null">
                AND `work_type`=#{workType}
            </if>
            <if test="startTime != null">
                AND `start_time`=#{startTime}
            </if>
            <if test="endTime != null">
                AND `end_time`=#{endTime}
            </if>
            <if test="feeSettlementModes != null">
                AND `fee_settlement_modes`=#{feeSettlementModes}
            </if>
            <if test="configurationItem != null">
                AND `configuration_item`=#{configurationItem}
            </if>
            <if test="certificatePath != null">
                AND `certificate_path`=#{certificatePath}
            </if>
            <if test="certificatePassword != null">
                AND `certificate_password`=#{certificatePassword}
            </if>
            <if test="state != null">
                AND `state`=#{state}
            </if>
            <if test="remark != null">
                AND `remark`=#{remark}
            </if>
            <if test="createdBy != null">
                AND `created_by`=#{createdBy}
            </if>
            <if test="start != null and end != null">
                AND `created_date` BETWEEN #{start} AND #{ end}
            </if>
            <if test="modifiedBy != null">
                AND `modified_by`=#{modifiedBy}
            </if>
            <if test="modifiedDate != null">
                AND `modified_date`=#{modifiedDate}
            </if>
            <choose>
                <when test="status != null">AND status = #{status}</when>
                <otherwise><![CDATA[AND status > 0]]></otherwise>
            </choose>
            <if test="ip != null">
                AND `ip`=#{ip}
            </if>
        </trim>
        <if test="scs != null and scs.size() > 0">
            ORDER BY
            <foreach collection="scs" item="sc" separator=",">
                ${sc.field} ${sc.order}
            </foreach>
        </if>
        <if test="pc != null">
            LIMIT ${pc.startIndex}, ${pc.pageSize}
        </if>
    </select>

    <!--统计相关查询-->
    <select id="groupCount" parameterType="Map" resultType="Map">
        <![CDATA[
            SELECT ${group} AS `group`, COUNT(DISTINCT id) AS `count` FROM u_gateway
        ]]>
        <trim prefix="WHERE" prefixOverrides="AND|OR">
            <if test="id != null">
                AND `id`=#{id}
            </if>
            <if test="channelMerchantId != null">
                AND `channel_merchant_id`=#{channelMerchantId}
            </if>
            <if test="channelName != null">
                AND `channel_name`=#{channelName}
            </if>
            <if test="type != null">
                AND `type`=#{type}
            </if>
            <if test="userName != null">
                AND `user_name`=#{userName}
            </if>
            <if test="password != null">
                AND `password`=#{password}
            </if>
            <if test="gatewayIp != null">
                AND `gateway_ip`=#{gatewayIp}
            </if>
            <if test="gatewayType != null">
                AND `gateway_type`=#{gatewayType}
            </if>
            <if test="rateType != null">
                AND `rate_type`=#{rateType}
            </if>
            <if test="singleMaxAmount != null">
                AND `single_max_amount`=#{singleMaxAmount}
            </if>
            <if test="singleMinAmount != null">
                AND `single_min_amount`=#{singleMinAmount}
            </if>
            <if test="dailyTotalAmount != null">
                AND `daily_total_amount`=#{dailyTotalAmount}
            </if>
            <if test="rate != null">
                AND `rate`=#{rate}
            </if>
            <if test="rateMax != null">
                AND `rate_max`=#{rateMax}
            </if>
            <if test="rateMin != null">
                AND `rate_min`=#{rateMin}
            </if>
            <if test="settlementModes != null">
                AND `settlement_modes`=#{settlementModes}
            </if>
            <if test="workType != null">
                AND `work_type`=#{workType}
            </if>
            <if test="startTime != null">
                AND `start_time`=#{startTime}
            </if>
            <if test="endTime != null">
                AND `end_time`=#{endTime}
            </if>
            <if test="feeSettlementModes != null">
                AND `fee_settlement_modes`=#{feeSettlementModes}
            </if>
            <if test="configurationItem != null">
                AND `configuration_item`=#{configurationItem}
            </if>
            <if test="certificatePath != null">
                AND `certificate_path`=#{certificatePath}
            </if>
            <if test="certificatePassword != null">
                AND `certificate_password`=#{certificatePassword}
            </if>
            <if test="state != null">
                AND `state`=#{state}
            </if>
            <if test="remark != null">
                AND `remark`=#{remark}
            </if>
            <if test="createdBy != null">
                AND `created_by`=#{createdBy}
            </if>
            <if test="start != null and end != null">
                AND `created_date` BETWEEN #{start} AND #{ end}
            </if>
            <if test="modifiedBy != null">
                AND `modified_by`=#{modifiedBy}
            </if>
            <if test="modifiedDate != null">
                AND `modified_date`=#{modifiedDate}
            </if>
            <choose>
                <when test="status != null">AND status = #{status}</when>
                <otherwise><![CDATA[AND status > 0]]></otherwise>
            </choose>
            <if test="ip != null">
                AND `ip`=#{ip}
            </if>
        </trim>
        GROUP BY `group`
        ORDER BY `group` ASC
    </select>

    <select id="sum" parameterType="Map" resultType="Double">
        <![CDATA[
            SELECT IFNULL(SUM(${sumfield}),0) AS `sum` FROM u_gateway
        ]]>
        <trim prefix="WHERE" prefixOverrides="AND|OR">
            <if test="id != null">
                AND `id`=#{id}
            </if>
            <if test="channelMerchantId != null">
                AND `channel_merchant_id`=#{channelMerchantId}
            </if>
            <if test="channelName != null">
                AND `channel_name`=#{channelName}
            </if>
            <if test="type != null">
                AND `type`=#{type}
            </if>
            <if test="userName != null">
                AND `user_name`=#{userName}
            </if>
            <if test="password != null">
                AND `password`=#{password}
            </if>
            <if test="gatewayIp != null">
                AND `gateway_ip`=#{gatewayIp}
            </if>
            <if test="gatewayType != null">
                AND `gateway_type`=#{gatewayType}
            </if>
            <if test="rateType != null">
                AND `rate_type`=#{rateType}
            </if>
            <if test="singleMaxAmount != null">
                AND `single_max_amount`=#{singleMaxAmount}
            </if>
            <if test="singleMinAmount != null">
                AND `single_min_amount`=#{singleMinAmount}
            </if>
            <if test="dailyTotalAmount != null">
                AND `daily_total_amount`=#{dailyTotalAmount}
            </if>
            <if test="rate != null">
                AND `rate`=#{rate}
            </if>
            <if test="rateMax != null">
                AND `rate_max`=#{rateMax}
            </if>
            <if test="rateMin != null">
                AND `rate_min`=#{rateMin}
            </if>
            <if test="settlementModes != null">
                AND `settlement_modes`=#{settlementModes}
            </if>
            <if test="workType != null">
                AND `work_type`=#{workType}
            </if>
            <if test="startTime != null">
                AND `start_time`=#{startTime}
            </if>
            <if test="endTime != null">
                AND `end_time`=#{endTime}
            </if>
            <if test="feeSettlementModes != null">
                AND `fee_settlement_modes`=#{feeSettlementModes}
            </if>
            <if test="configurationItem != null">
                AND `configuration_item`=#{configurationItem}
            </if>
            <if test="certificatePath != null">
                AND `certificate_path`=#{certificatePath}
            </if>
            <if test="certificatePassword != null">
                AND `certificate_password`=#{certificatePassword}
            </if>
            <if test="state != null">
                AND `state`=#{state}
            </if>
            <if test="remark != null">
                AND `remark`=#{remark}
            </if>
            <if test="createdBy != null">
                AND `created_by`=#{createdBy}
            </if>
            <if test="start != null and end != null">
                AND `created_date` BETWEEN #{start} AND #{ end}
            </if>
            <if test="modifiedBy != null">
                AND `modified_by`=#{modifiedBy}
            </if>
            <if test="modifiedDate != null">
                AND `modified_date`=#{modifiedDate}
            </if>
            <choose>
                <when test="status != null">AND status = #{status}</when>
                <otherwise><![CDATA[AND status > 0]]></otherwise>
            </choose>
            <if test="ip != null">
                AND `ip`=#{ip}
            </if>
        </trim>
    </select>

    <select id="groupSum" parameterType="Map" resultType="Map">
        <![CDATA[
            SELECT ${group} AS `group`, IFNULL(SUM(${sumfield}),0) AS `sum` FROM u_gateway
        ]]>
        <trim prefix="WHERE" prefixOverrides="AND|OR">
            <if test="id != null">
                AND `id`=#{id}
            </if>
            <if test="channelMerchantId != null">
                AND `channel_merchant_id`=#{channelMerchantId}
            </if>
            <if test="channelName != null">
                AND `channel_name`=#{channelName}
            </if>
            <if test="type != null">
                AND `type`=#{type}
            </if>
            <if test="userName != null">
                AND `user_name`=#{userName}
            </if>
            <if test="password != null">
                AND `password`=#{password}
            </if>
            <if test="gatewayIp != null">
                AND `gateway_ip`=#{gatewayIp}
            </if>
            <if test="gatewayType != null">
                AND `gateway_type`=#{gatewayType}
            </if>
            <if test="rateType != null">
                AND `rate_type`=#{rateType}
            </if>
            <if test="singleMaxAmount != null">
                AND `single_max_amount`=#{singleMaxAmount}
            </if>
            <if test="singleMinAmount != null">
                AND `single_min_amount`=#{singleMinAmount}
            </if>
            <if test="dailyTotalAmount != null">
                AND `daily_total_amount`=#{dailyTotalAmount}
            </if>
            <if test="rate != null">
                AND `rate`=#{rate}
            </if>
            <if test="rateMax != null">
                AND `rate_max`=#{rateMax}
            </if>
            <if test="rateMin != null">
                AND `rate_min`=#{rateMin}
            </if>
            <if test="settlementModes != null">
                AND `settlement_modes`=#{settlementModes}
            </if>
            <if test="workType != null">
                AND `work_type`=#{workType}
            </if>
            <if test="startTime != null">
                AND `start_time`=#{startTime}
            </if>
            <if test="endTime != null">
                AND `end_time`=#{endTime}
            </if>
            <if test="feeSettlementModes != null">
                AND `fee_settlement_modes`=#{feeSettlementModes}
            </if>
            <if test="configurationItem != null">
                AND `configuration_item`=#{configurationItem}
            </if>
            <if test="certificatePath != null">
                AND `certificate_path`=#{certificatePath}
            </if>
            <if test="certificatePassword != null">
                AND `certificate_password`=#{certificatePassword}
            </if>
            <if test="state != null">
                AND `state`=#{state}
            </if>
            <if test="remark != null">
                AND `remark`=#{remark}
            </if>
            <if test="createdBy != null">
                AND `created_by`=#{createdBy}
            </if>
            <if test="start != null and end != null">
                AND `created_date` BETWEEN #{start} AND #{ end}
            </if>
            <if test="modifiedBy != null">
                AND `modified_by`=#{modifiedBy}
            </if>
            <if test="modifiedDate != null">
                AND `modified_date`=#{modifiedDate}
            </if>
            <choose>
                <when test="status != null">AND status = #{status}</when>
                <otherwise><![CDATA[AND status > 0]]></otherwise>
            </choose>
            <if test="ip != null">
                AND `ip`=#{ip}
            </if>
        </trim>
        GROUP BY `group`
        ORDER BY `group` ASC
    </select>

    <select id="getPayType" parameterType="Map" resultMap="gatewayDTOMap">
        <![CDATA[
            select  @rownum:=@rownum+1 AS rownum,da.value as type,da.name as channel_name
            from (SELECT @rownum:=-1) r,u_static_data da
            where da.`code` = 'gatewayType' and da.`status`>0
        ]]>

    </select>

</mapper>
